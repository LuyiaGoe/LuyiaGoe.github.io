---
title: 节流和防抖
date: 2020-11-11 12:21:12
layout: post
categories: JavaScript
tags: Object
---


## 节流
定义：在一段时间内，多次触发同一函数，只执行第一次触发的函数

### 1、实现
如下实现的关键是靠一个标识flag达成，只有标识为true才被允许创建一个定时器，设置完后将标识改为false防止再次创建，只有定时器所定的回调执行后，标识才会被设置回true
```javascript
function throttle(callback,delay){
  let flag = true;
  return function(){
    if(!flag) return
    flag = false
    setTimeout(()=>{
      callback()
      flag = true
    },delay)
  }
}
```

### 2、应用

+ 滚动加载，加载更多或者滚到底部监听
+ 频繁点击按钮

## 防抖
定义：在函数被触发的n秒内，如果又被触发，就会重新计时

### 1、实现
如下实现关键靠一个标识flag达成，只有标识为true才设置一个定时器，设置完后将标识改为false，只有定时器执行后，标识才会被设置回true
```javascript
function debounce(callback,delay){
  let timer = null;
  return function(){
    clearTimeout(timer)
  timer = setTimeout(()=>{
      callback()
    },delay)
  }
}
```

### 2、应用

+ input输入动作触发搜索事件
+ 验证
+ resize事件
